<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      body{font-family:sans-serif;font-size:0.8em;}
      path {
        stroke: steelblue;
        stroke-width: 2;
        fill: none;
      }
      .axis path,.axis line {
        fill: none;
        stroke: grey;
        stroke-width: 1;
        shape-rendering: crispEdges;
      }
      .grid .tick {
        stroke: lightgrey;
        stroke-opacity: 0.7;
        shape-rendering: crispEdges;
      }
      .grid path {
        stroke-width: 0;
      }      
    </style>
    <script src="./res/d3.js"></script>
    <script>
      
      
var DATA = {"fmt":"JSON","C":["01:00","01:00","02:00","02:00","03:00","03:00","04:00","04:00","05:00","05:00","06:00","06:00","07:00","07:00","08:00","08:00","09:00","09:00","10:00","10:00","11:00","11:00","12:00","12:00","13:00","13:00","14:00","14:00","15:00","15:00","16:00","16:00","17:00","17:00","18:00","18:00","19:00","19:00","20:00","20:00","21:00","21:00","22:00","22:00","23:00","23:00","00:00","00:00","01:00","01:00","02:00","02:00","03:00","03:00","04:00","04:00","05:00","05:00","06:00","06:00","07:00","07:00","08:00","08:00","09:00","09:00","10:00","10:00","11:00","11:00","12:00","12:00","13:00","13:00","14:00","14:00","15:00","15:00","16:00","16:00","17:00","17:00","18:00","18:00","19:00","19:00","20:00","20:00","21:00","21:00","22:00","22:00","23:00","23:00","00:00","00:00"],"V":[{"n":"Average Time to Resolve","s":"-40.97","i":"1110.92","a":"640","af":"640","t":"","tf":"","v":[0.0,1158.0,5549.0,0.0,0.0,5140.0,0.0,0.0,0.0,0.0,0.0,705.0,749.0,101.0,220.0,755.0,614.0,80.0,207.0,329.0,225.0,2553.0,1387.0,664.0,178.0,188.0,191.0,286.0,225.0,365.0,246.0,182.0,141.0,266.0,297.0,328.0,276.0,187.0,151.0,1.0,145.0,213.0,1993.0,133.0,256.0,1267.0,2324.0,432.0,0.0,1158.0,5549.0,0.0,0.0,5140.0,0.0,0.0,0.0,0.0,0.0,705.0,749.0,101.0,220.0,755.0,614.0,80.0,207.0,329.0,225.0,2553.0,1387.0,664.0,178.0,188.0,191.0,286.0,225.0,365.0,246.0,182.0,141.0,266.0,297.0,328.0,276.0,187.0,151.0,1.0,145.0,213.0,1993.0,133.0,256.0,1267.0,2324.0,432.0],"vf":["0","1,158","5,549","0","0","5,140","0","0","0","0","0","705","749","101","220","755","614","80","207","329","225","2,553","1,387","664","178","188","191","286","225","365","246","182","141","266","297","328","276","187","151","1","145","213","1,993","133","256","1,267","2,324","432","0","1,158","5,549","0","0","5,140","0","0","0","0","0","705","749","101","220","755","614","80","207","329","225","2,553","1,387","664","178","188","191","286","225","365","246","182","141","266","297","328","276","187","151","1","145","213","1,993","133","256","1,267","2,324","432"]},{"n":"Fraud Resolutions Count","s":"1.53","i":"22.67","a":"40","af":"40","t":"3876","tf":"3,876","v":[19.0,18.0,10.0,12.0,11.0,19.0,9.0,16.0,7.0,14.0,10.0,38.0,65.0,14.0,45.0,39.0,89.0,40.0,52.0,53.0,64.0,35.0,64.0,40.0,63.0,46.0,94.0,57.0,40.0,64.0,73.0,42.0,30.0,48.0,35.0,36.0,75.0,58.0,59.0,40.0,79.0,40.0,27.0,45.0,28.0,27.0,20.0,29.0,19.0,18.0,10.0,12.0,11.0,19.0,9.0,16.0,7.0,14.0,10.0,38.0,65.0,14.0,45.0,39.0,89.0,40.0,52.0,53.0,64.0,35.0,64.0,40.0,63.0,46.0,94.0,57.0,40.0,64.0,73.0,42.0,30.0,48.0,35.0,36.0,75.0,58.0,59.0,40.0,79.0,40.0,27.0,45.0,28.0,27.0,20.0,29.0],"vf":["19","18","10","12","11","19","9","16","7","14","10","38","65","14","45","39","89","40","52","53","64","35","64","40","63","46","94","57","40","64","73","42","30","48","35","36","75","58","59","40","79","40","27","45","28","27","20","29","19","18","10","12","11","19","9","16","7","14","10","38","65","14","45","39","89","40","52","53","64","35","64","40","63","46","94","57","40","64","73","42","30","48","35","36","75","58","59","40","79","40","27","45","28","27","20","29"]},{"n":"Total Resolutions Count","s":"5.85","i":"72.66","a":"140","af":"140","t":"13440","tf":"13,440","v":[19.0,39.0,23.0,12.0,11.0,27.0,9.0,16.0,7.0,14.0,10.0,79.0,119.0,39.0,140.0,160.0,244.0,263.0,193.0,214.0,254.0,252.0,306.0,268.0,325.0,268.0,276.0,274.0,227.0,222.0,212.0,198.0,140.0,191.0,138.0,191.0,170.0,199.0,138.0,41.0,159.0,128.0,48.0,91.0,101.0,127.0,68.0,70.0,19.0,39.0,23.0,12.0,11.0,27.0,9.0,16.0,7.0,14.0,10.0,79.0,119.0,39.0,140.0,160.0,244.0,263.0,193.0,214.0,254.0,252.0,306.0,268.0,325.0,268.0,276.0,274.0,227.0,222.0,212.0,198.0,140.0,191.0,138.0,191.0,170.0,199.0,138.0,41.0,159.0,128.0,48.0,91.0,101.0,127.0,68.0,70.0],"vf":["19","39","23","12","11","27","9","16","7","14","10","79","119","39","140","160","244","263","193","214","254","252","306","268","325","268","276","274","227","222","212","198","140","191","138","191","170","199","138","41","159","128","48","91","101","127","68","70","19","39","23","12","11","27","9","16","7","14","10","79","119","39","140","160","244","263","193","214","254","252","306","268","325","268","276","274","227","222","212","198","140","191","138","191","170","199","138","41","159","128","48","91","101","127","68","70"]},{"n":"Fraud Percentage","s":"-1.86","i":"65.57","a":"44.14","af":"4,414%","t":"","tf":"","v":[100.0,46.0,43.0,100.0,100.0,70.0,100.0,100.0,100.0,100.0,100.0,48.0,54.0,35.0,32.0,24.0,36.0,15.0,26.0,24.0,25.0,13.0,20.0,14.0,19.0,17.0,34.0,20.0,17.0,28.0,34.0,21.0,21.0,25.0,25.0,18.0,44.0,29.0,42.0,97.0,49.0,31.0,56.0,49.0,27.0,21.0,29.0,41.0,100.0,46.0,43.0,100.0,100.0,70.0,100.0,100.0,100.0,100.0,100.0,48.0,54.0,35.0,32.0,24.0,36.0,15.0,26.0,24.0,25.0,13.0,20.0,14.0,19.0,17.0,34.0,20.0,17.0,28.0,34.0,21.0,21.0,25.0,25.0,18.0,44.0,29.0,42.0,97.0,49.0,31.0,56.0,49.0,27.0,21.0,29.0,41.0],"vf":["10,000%","4,600%","4,300%","10,000%","10,000%","7,000%","10,000%","10,000%","10,000%","10,000%","10,000%","4,800%","5,400%","3,500%","3,200%","2,400%","3,600%","1,500%","2,600%","2,400%","2,500%","1,300%","2,000%","1,400%","1,900%","1,700%","3,400%","2,000%","1,700%","2,800%","3,400%","2,100%","2,100%","2,500%","2,500%","1,800%","4,400%","2,900%","4,200%","9,700%","4,900%","3,100%","5,600%","4,900%","2,700%","2,100%","2,900%","4,100%","10,000%","4,600%","4,300%","10,000%","10,000%","7,000%","10,000%","10,000%","10,000%","10,000%","10,000%","4,800%","5,400%","3,500%","3,200%","2,400%","3,600%","1,500%","2,600%","2,400%","2,500%","1,300%","2,000%","1,400%","1,900%","1,700%","3,400%","2,000%","1,700%","2,800%","3,400%","2,100%","2,100%","2,500%","2,500%","1,800%","4,400%","2,900%","4,200%","9,700%","4,900%","3,100%","5,600%","4,900%","2,700%","2,100%","2,900%","4,100%"]},{"n":"Resolved Transactions Count","s":"5.74","i":"70.23","a":"136","af":"136","t":"13082","tf":"13,082","v":[18.0,37.0,23.0,12.0,10.0,25.0,8.0,16.0,6.0,14.0,9.0,79.0,114.0,38.0,135.0,158.0,236.0,257.0,184.0,209.0,250.0,250.0,293.0,260.0,318.0,257.0,268.0,267.0,220.0,217.0,199.0,198.0,138.0,188.0,137.0,186.0,163.0,195.0,136.0,36.0,154.0,125.0,47.0,90.0,101.0,126.0,67.0,67.0,18.0,37.0,23.0,12.0,10.0,25.0,8.0,16.0,6.0,14.0,9.0,79.0,114.0,38.0,135.0,158.0,236.0,257.0,184.0,209.0,250.0,250.0,293.0,260.0,318.0,257.0,268.0,267.0,220.0,217.0,199.0,198.0,138.0,188.0,137.0,186.0,163.0,195.0,136.0,36.0,154.0,125.0,47.0,90.0,101.0,126.0,67.0,67.0],"vf":["18","37","23","12","10","25","8","16","6","14","9","79","114","38","135","158","236","257","184","209","250","250","293","260","318","257","268","267","220","217","199","198","138","188","137","186","163","195","136","36","154","125","47","90","101","126","67","67","18","37","23","12","10","25","8","16","6","14","9","79","114","38","135","158","236","257","184","209","250","250","293","260","318","257","268","267","220","217","199","198","138","188","137","186","163","195","136","36","154","125","47","90","101","126","67","67"]},{"n":"Resolved Transactions Value","s":"2825.31","i":"40047.6","a":"72538.69","af":"$72,538.69","t":"6963714.4","tf":"$6,963,714.40","v":[4125.48,19118.85,17304.75,4046.81,4298.31,18879.08,3344.92,4690.52,3523.45,4106.8,3344.92,45866.01,55187.68,17391.33,90123.92,81987.47,118305.8,103447.79,138889.66,140637.69,120470.5,153234.4,156825.12,151726.86,199603.23,103607.71,155960.2,165389.23,126612.95,102271.38,109391.08,97907.58,64301.47,90251.33,74003.29,126813.39,82967.95,95703.99,51181.7,4720.27,80429.18,51167.58,14500.04,37754.77,43737.28,77586.2,40677.04,24440.23,4125.48,19118.85,17304.75,4046.81,4298.31,18879.08,3344.92,4690.52,3523.45,4106.8,3344.92,45866.01,55187.68,17391.33,90123.92,81987.47,118305.8,103447.79,138889.66,140637.69,120470.5,153234.4,156825.12,151726.86,199603.23,103607.71,155960.2,165389.23,126612.95,102271.38,109391.08,97907.58,64301.47,90251.33,74003.29,126813.39,82967.95,95703.99,51181.7,4720.27,80429.18,51167.58,14500.04,37754.77,43737.28,77586.2,40677.04,24440.23],"vf":["$4,125.48","$19,118.85","$17,304.75","$4,046.81","$4,298.31","$18,879.08","$3,344.92","$4,690.52","$3,523.45","$4,106.80","$3,344.92","$45,866.01","$55,187.68","$17,391.33","$90,123.92","$81,987.47","$118,305.80","$103,447.79","$138,889.65","$140,637.69","$120,470.50","$153,234.40","$156,825.12","$151,726.86","$199,603.24","$103,607.71","$155,960.20","$165,389.24","$126,612.95","$102,271.38","$109,391.08","$97,907.58","$64,301.47","$90,251.33","$74,003.29","$126,813.39","$82,967.95","$95,703.99","$51,181.70","$4,720.27","$80,429.18","$51,167.58","$14,500.04","$37,754.77","$43,737.28","$77,586.20","$40,677.04","$24,440.23","$4,125.48","$19,118.85","$17,304.75","$4,046.81","$4,298.31","$18,879.08","$3,344.92","$4,690.52","$3,523.45","$4,106.80","$3,344.92","$45,866.01","$55,187.68","$17,391.33","$90,123.92","$81,987.47","$118,305.80","$103,447.79","$138,889.65","$140,637.69","$120,470.50","$153,234.40","$156,825.12","$151,726.86","$199,603.24","$103,607.71","$155,960.20","$165,389.24","$126,612.95","$102,271.38","$109,391.08","$97,907.58","$64,301.47","$90,251.33","$74,003.29","$126,813.39","$82,967.95","$95,703.99","$51,181.70","$4,720.27","$80,429.18","$51,167.58","$14,500.04","$37,754.77","$43,737.28","$77,586.20","$40,677.04","$24,440.23"]},{"n":"Fraud Prevented Value","s":"1.53","i":"22.67","a":"11389.58","af":"$11,389.58","t":"1093400.42","tf":"$1,093,400.42","v":[4125.48,9318.83,3556.52,4046.81,4298.31,7476.37,3344.92,4690.52,3523.45,4106.8,3344.92,14433.2,18083.75,5000.19,18143.98,12507.03,18780.55,12314.6,22472.91,15270.38,11710.82,14311.25,13691.8,15509.25,18171.34,11955.25,24257.21,18389.15,16404.19,18309.86,17228.38,10928.68,11688.56,7316.14,13246.56,7482.5,14991.94,14340.12,7462.99,4578.8,33824.46,4546.4,757.35,13178.18,11715.21,9479.47,7269.32,5115.51,4125.48,9318.83,3556.52,4046.81,4298.31,7476.37,3344.92,4690.52,3523.45,4106.8,3344.92,14433.2,18083.75,5000.19,18143.98,12507.03,18780.55,12314.6,22472.91,15270.38,11710.82,14311.25,13691.8,15509.25,18171.34,11955.25,24257.21,18389.15,16404.19,18309.86,17228.38,10928.68,11688.56,7316.14,13246.56,7482.5,14991.94,14340.12,7462.99,4578.8,33824.46,4546.4,757.35,13178.18,11715.21,9479.47,7269.32,5115.51],"vf":["$4,125.48","$9,318.83","$3,556.52","$4,046.81","$4,298.31","$7,476.37","$3,344.92","$4,690.52","$3,523.45","$4,106.80","$3,344.92","$14,433.20","$18,083.75","$5,000.19","$18,143.98","$12,507.03","$18,780.55","$12,314.60","$22,472.91","$15,270.38","$11,710.82","$14,311.25","$13,691.80","$15,509.25","$18,171.34","$11,955.25","$24,257.21","$18,389.15","$16,404.19","$18,309.86","$17,228.38","$10,928.68","$11,688.56","$7,316.14","$13,246.56","$7,482.50","$14,991.94","$14,340.12","$7,462.99","$4,578.80","$33,824.46","$4,546.40","$757.35","$13,178.18","$11,715.21","$9,479.47","$7,269.32","$5,115.51","$4,125.48","$9,318.83","$3,556.52","$4,046.81","$4,298.31","$7,476.37","$3,344.92","$4,690.52","$3,523.45","$4,106.80","$3,344.92","$14,433.20","$18,083.75","$5,000.19","$18,143.98","$12,507.03","$18,780.55","$12,314.60","$22,472.91","$15,270.38","$11,710.82","$14,311.25","$13,691.80","$15,509.25","$18,171.34","$11,955.25","$24,257.21","$18,389.15","$16,404.19","$18,309.86","$17,228.38","$10,928.68","$11,688.56","$7,316.14","$13,246.56","$7,482.50","$14,991.94","$14,340.12","$7,462.99","$4,578.80","$33,824.46","$4,546.40","$757.35","$13,178.18","$11,715.21","$9,479.47","$7,269.32","$5,115.51"]}],"execOn":"Feb 5, 2015 1:27:33 PM"};

var cats = ["0","1","2","3","4"];
var vals = [778,
        3646,
        3652,
        0,
        0];
    

function test() {
      var margin = {top: 10, right: 10, bottom: 10, left: 10};
      var width = 100 - margin.left - margin.right;
      var height = 50 - margin.top - margin.bottom;
      
      var xScale = d3.scale.linear()
                  .range([0, width])
                  .domain(d3.extent(cats));
      var yScale = d3.scale.linear()
                  .range([height, 0])
                  .domain(d3.extent(vals));
      var sparkline = d3.svg.line()
                  .x(function(d) { return xScale(cats[d]); })
                  .y(function(d) { return yScale(vals[d]); });
      var svg = d3.select('#stdout')
                  .append("svg")
                  .attr("width", width + margin.left + margin.right)
                  .attr("height", height + margin.top + margin.bottom)
                  .append("g")
                  .attr("transform",
                  "translate(" + margin.left + "," + margin.top + ")");
      svg.append("path")
                  .attr("class", "line")
                  .attr("d", sparkline(d3.range(cats.length)));        
    
}
 
    
    function init() {
        //test()
        render(DATA);
    }
    
    function render(data) {
        var datarows = d3.select('#RSSR_dataListBody')
            .selectAll('tr')
            .data(d3.range(data['V'].length))
            .enter()
            .append('tr')
            .attr('id',function(d){return 'RSSR_dr'+d;});        
        datarows.selectAll('tr')
            .data(d3.range(5))
            .enter()
            .append('td')
            .attr('id',function(d,i,p){return 'RSSR_dc_'+p+'_'+d;})
            .attr('class', function(d){return 'RSSR_dtcs'+d;}); 
        var html = '';
        // col0 n
        data['V'].forEach(function(d,i){
            html = '<span>' + d.n + '</span>';
            document.getElementById('RSSR_dc_'+i+'_0').innerHTML = html;
        });
        // col1 sparkline
        data['V'].forEach(function(d,i){
            //html = '<span>' + 'sparkline' + '</span>';
            //document.getElementById('RSSR_dc_'+i+'_1').innerHTML = html;
            generateSparkline(d.v, '#RSSR_dc_'+i+'_1');
        });
        // col2 trendline
        data['V'].forEach(function(d,i){
            html = '<span>' + 'trendline' + '</span>';
            document.getElementById('RSSR_dc_'+i+'_2').innerHTML = html;
        });        
        // col3 af
        data['V'].forEach(function(d,i){
            html = '<span>' + d.af + '</span>';
            document.getElementById('RSSR_dc_'+i+'_3').innerHTML = html;
        });
        // col4 tf
        data['V'].forEach(function(d,i){
            html = '<span>' + d.tf + '</span>';
            document.getElementById('RSSR_dc_'+i+'_4').innerHTML = html;
        });
        
        
    }
    
    function generateSparkline(valuesArray, elementToAttachToSelector) {
      var margin = {top: 10, right: 10, bottom: 10, left: 10};
      var width = 100 - margin.left - margin.right;
      var height = 50 - margin.top - margin.bottom;
      var catsArray = d3.range(valuesArray.length);
      var xScale = d3.scale.linear()
                  .range([0, width])
                  .domain([0,catsArray.length-1]);
      var yScale = d3.scale.linear()
                  .range([height, 0])
                  .domain(d3.extent(valuesArray));
      var sparkline = d3.svg.line()
                  .x(function(d) { return xScale(parseInt(d)); })
                  .y(function(d) { return yScale(parseInt(valuesArray[d])); });
      var svg = d3.select(elementToAttachToSelector)
                  .append("svg")
                  .attr("width", width + margin.left + margin.right)
                  .attr("height", height + margin.top + margin.bottom)
                  .append("g")
                  .attr("transform",
                  "translate(" + margin.left + "," + margin.top + ")");
      svg.append("path")
                  .attr("class", "line")
                  .attr("d", sparkline(catsArray));                  
    }
/*
    function init() {
      var margin = {top: 30, right: 20, bottom: 30, left: 50};
      var width = 600 - margin.left - margin.right;
      var height = 270 - margin.top - margin.bottom;

      var xScale = d3.scale.linear()
                  .range([0, width])
                  .domain([DATA['cats'][0],DATA['cats'][DATA['cats'].length-1]]);
      var yScale = d3.scale.linear()
                  .range([height, 0])
                  .domain(d3.extent(DATA['vals'][0]['fa']));
      
      var xAxis = d3.svg.axis().scale(xScale)
                  .orient("bottom").ticks(5);
      var yAxis = d3.svg.axis().scale(yScale)
                  .orient("left").ticks(5);
                  
      var graph1 = d3.svg.line()
                  .x(function(d) { return xScale(DATA['cats'][d]); })
                  .y(function(d) { return yScale(DATA['vals'][0]['fa'][d]); })
                  .interpolate('cardinal');
                  
      var svg = d3.select("body")
                  .append("svg")
                  .attr("width", width + margin.left + margin.right)
                  .attr("height", height + margin.top + margin.bottom)
                  .append("g")
                  .attr("transform",
                  "translate(" + margin.left + "," + margin.top + ")");
      
      svg.append("path")
                  .attr("class", "line")
                  .attr("d", graph1(d3.range(DATA['cats'].length)));
      

                                  
    }
  */  
    </script>
    
  </head>
  <body>

  <table border="1">
    <thead><tr><th>N</th><th>S</th><th>T</th><th>A</th><th>T</th></tr></thead>
    <tbody id="RSSR_dataListBody">
    <!-- dynamic fill -->
    </tbody>
  </table>


<div id="graph1" style="border:1px solid #c0c0c0;border-radius:4px;"></div>

<div id="stdout" style="border:1px solid #c0c0c0;">stdout</div>
  <script>init();</script>
  </body>
</html>
